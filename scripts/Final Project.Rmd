---
title: "Final Project"
author: "Isa Ross"
date: "`r Sys.Date()`"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Setup

Load packages and data

```{r}
library(tidyverse)
raw_data <- read_csv("../data_raw/all.data.final.csv")
```

## Cleaning Data

Rename and select columns of interest

```{r}
select_data <- raw_data %>% 
    mutate(country = CountryName.x,
         site = sitecode,
         ivory.price = ivory.price.toan,
         num.poached = illegal,
         all.carcass = totcarc,
         perc.poached = num.poached/all.carcass) %>% 
  select(country, site, all.carcass, num.poached, perc.poached, ele.pop, ele.density, ivory.price)
```

```{r}
# clean microsite_grouped data frame
clean_microsite <- microsite_grouped %>% 
  mutate(TrapID = `Trap Location`, .after = Site,
         Dist_to_veg_m = `Distance to Vegetation (m)`,
         Veg_type = `Type of Vegetation`,
         Percent_veg_cover = `Percent Veg Cover`,
         Dist_to_water_m = `Distance to Water (m)`,
         Veg_group = Grouped_Veg) %>% 
  select(Site, TrapID, Dist_to_veg_m, Dist_to_water_m, Veg_type, Percent_veg_cover, Veg_group)

# clean captures data frame
clean_captures <- captures %>% 
  mutate(TrapID = `Trap ID`,
         Status = `Status (R/N)`,
         Total_weight_g = `Total Weight`,
         Bag_weight_g = `Bag weight`,
         Animal_weight_g = `Animal Weight`,
         Hf_length_cm = `Hind foot length`,
         Tail_length_cm = `Tail length`,
         Hair_sample = `Hair sample (Y/N)`,
         Position = `Position (R/L)`)

# join captures and clean_microsite data frames
inner_join(clean_captures, clean_microsite, by = "TrapID")
```
